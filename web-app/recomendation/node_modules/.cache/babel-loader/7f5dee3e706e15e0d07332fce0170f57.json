{"ast":null,"code":"var _jsxFileName = \"/Users/coke/Desktop/UPV/Cursos/Recomendacion/RS/web-app/recomendation/src/components/Dashboard/Movie.js\";\nimport React, { Component } from 'react';\nimport { MDBMask, MDBView, MDBContainer, MDBRow, MDBCol } from \"mdbreact\";\nimport { demografico } from '../UserFunctions';\nimport { BoxLoading } from 'react-loadingg';\nimport Rating from './Rating';\n\nclass Movie extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      Id: '',\n      movies: null\n    };\n  }\n\n  componentWillMount() {\n    this.setState({\n      loading: true\n    });\n    demografico(this.props.id_user).then(res => {\n      if (this.props.type == 'Demografico') {\n        this.setState({\n          movies: res.Items_demografico\n        });\n        this.setState({\n          loading: false\n        });\n      } else if (this.props.type == 'Colaborativo') {\n        this.setState({\n          movies: res.Items_colaborativo\n        });\n        this.setState({\n          loading: false\n        });\n      } else {\n        this.setState({\n          movies: res.Items_mixed\n        });\n        this.setState({\n          loading: false\n        });\n      }\n    });\n  }\n\n  checkImageURL(url) {\n    fetch(url).then(res => {\n      if (res.status == 404) {\n        return \"https://www.caminodeemaus.net/wp-content/uploads/2014/10/valores-caratula-no-disponible.jpg\";\n      } else {\n        return url;\n      }\n    }).catch(err => {\n      return \"https://www.caminodeemaus.net/wp-content/uploads/2014/10/valores-caratula-no-disponible.jpg\";\n    });\n  }\n\n  render() {\n    var peliculas = this.state.movies;\n    this.checkImageURL(\"https://images-na.ssl-images-amazon.com/images/M/MV5BODU4MjU4NjIwNl5BMl5BanBnXkFtZTgwMDU2MjEyMDE@..jpg\");\n\n    if (this.state.loading == false) {\n      return peliculas.map(item => React.createElement(MDBCol, {\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(MDBView, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.checkImageURL(item.Image),\n        className: \"img-fluid\",\n        alt: \"\",\n        style: {\n          borderRadius: \"15px\",\n          weight: \"350px\",\n          height: \"300px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), React.createElement(Rating, {\n        rate: item.Ratio,\n        max_rate: peliculas[0].Ratio,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(MDBMask, {\n        className: \"flex-center\",\n        overlay: \"teal-slight\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"white-text\",\n        style: {\n          color: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, item.Movie)))));\n    } else {\n      return React.createElement(BoxLoading, {\n        color: \"#c904c9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default Movie;","map":{"version":3,"sources":["/Users/coke/Desktop/UPV/Cursos/Recomendacion/RS/web-app/recomendation/src/components/Dashboard/Movie.js"],"names":["React","Component","MDBMask","MDBView","MDBContainer","MDBRow","MDBCol","demografico","BoxLoading","Rating","Movie","constructor","props","state","Id","movies","componentWillMount","setState","loading","id_user","then","res","type","Items_demografico","Items_colaborativo","Items_mixed","checkImageURL","url","fetch","status","catch","err","render","peliculas","map","item","Image","borderRadius","weight","height","Ratio","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { MDBMask, MDBView, MDBContainer, MDBRow, MDBCol } from \"mdbreact\";\nimport { demografico } from '../UserFunctions';\nimport { BoxLoading } from 'react-loadingg';\nimport Rating from './Rating'\nclass Movie extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            Id: '',\n            movies : null\n        }\n    }\n    componentWillMount() {\n        this.setState({ loading: true });\n        \n        demografico(this.props.id_user).then(\n            res => {\n                if(this.props.type == 'Demografico'){\n                        this.setState({ movies: res.Items_demografico});\n                        this.setState({ loading: false });\n                }else if(this.props.type == 'Colaborativo'){\n                    this.setState({ movies: res.Items_colaborativo});\n                        this.setState({ loading: false });\n                }else{\n                    this.setState({ movies: res.Items_mixed});\n                        this.setState({ loading: false });\n                }   \n            }\n        )\n        \n    }\n\n    checkImageURL(url){\n        fetch(url)\n           .then(res => {\n           if(res.status == 404){\n            return \"https://www.caminodeemaus.net/wp-content/uploads/2014/10/valores-caratula-no-disponible.jpg\"\n           }else{\n             return url\n          }\n        })\n       .catch(err=>{return \"https://www.caminodeemaus.net/wp-content/uploads/2014/10/valores-caratula-no-disponible.jpg\"})\n       }\n        \n    render() {\n        var peliculas = this.state.movies;\n        this.checkImageURL(\"https://images-na.ssl-images-amazon.com/images/M/MV5BODU4MjU4NjIwNl5BMl5BanBnXkFtZTgwMDU2MjEyMDE@..jpg\")\n        if (this.state.loading == false){\n        return (\n            peliculas.map( item => (\n            <MDBCol md=\"3\">\n                <MDBView>\n                <img\n                    src={this.checkImageURL(item.Image)}\n                    className=\"img-fluid\"\n                    alt=\"\"\n                    style={{borderRadius:\"15px\",weight:\"350px\",height:\"300px\"}}\n                />\n                <Rating rate={item.Ratio} max_rate ={peliculas[0].Ratio}></Rating>\n                <MDBMask className=\"flex-center\" overlay=\"teal-slight\">\n                    <p className=\"white-text\" style={{color:\"white\"}}>{item.Movie}</p>\n                </MDBMask>\n                </MDBView>\n            </MDBCol>\n         ))\n        )\n    }else{\n        \n        return (\n            <BoxLoading color = \"#c904c9\"/>\n        )\n    }\n    }\n}\n\nexport default Movie"]},"metadata":{},"sourceType":"module"}